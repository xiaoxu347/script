-- 获取服务
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- 设置目标玩家和漂浮距离
local targetPlayerName = "yaoshen21"  -- 目标玩家名称
local followDistance = 5  -- 距离目标玩家的距离（负值代表下方）

-- 本地玩家
local localPlayer = Players.LocalPlayer
local character = localPlayer.Character or localPlayer.CharacterAdded:Wait()

-- 浮空功能
local function floatBelowTarget(targetCharacter)
    -- 等待目标玩家加载角色
    while not targetCharacter or not targetCharacter:FindFirstChild("HumanoidRootPart") do
        targetCharacter = Players:FindFirstChild(targetPlayerName).Character
        RunService.RenderStepped:Wait()
    end

    local targetHumanoidRootPart = targetCharacter:FindFirstChild("HumanoidRootPart")
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    -- 每帧更新
    RunService.RenderStepped:Connect(function()
        -- 保持玩家朝向向上
        humanoidRootPart.CFrame = CFrame.new(
            targetHumanoidRootPart.Position - Vector3.new(0, followDistance, 0), -- 在目标玩家下方followDistance的位置
            targetHumanoidRootPart.Position
        ) * CFrame.Angles(-math.pi / 2, 0, 0) -- 确保玩家朝向向上
    end)
end

-- 检查目标玩家是否存在
local targetPlayer = Players:FindFirstChild(targetPlayerName)
if targetPlayer then
    -- 等待目标玩家的角色加载
    local targetCharacter = targetPlayer.Character or targetPlayer.CharacterAdded:Wait()
    floatBelowTarget(targetCharacter)
else
    -- 如果目标玩家没有找到，可以在这里加个报错提示
    warn("目标玩家未找到，请检查目标玩家名称是否正确。")
end
