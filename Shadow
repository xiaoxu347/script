-- 配置项
local player = game.Players.LocalPlayer
local targetPlayerName = "yaoshen21" -- 替换为目标玩家的名字
local positionOffset = Vector3.new(2, 5, -2) -- 相对目标玩家的位置偏移（右、上、后）
local angleOffset = CFrame.Angles(0, math.rad(0), 0) -- 相对于目标的角度偏移

-- 获取目标玩家
local targetPlayer = game.Players:FindFirstChild(targetPlayerName)
if not targetPlayer then
    warn("找不到目标玩家: " .. targetPlayerName)
    return
end

-- 获取目标玩家角色
local targetCharacter = targetPlayer.Character or targetPlayer.CharacterAdded:Wait()
local targetRootPart = targetCharacter:WaitForChild("HumanoidRootPart")

-- 获取漂浮玩家角色
local floatingCharacter = player.Character or player.CharacterAdded:Wait()
local floatingRootPart = floatingCharacter:WaitForChild("HumanoidRootPart")

-- 更新漂浮玩家的位置和朝向
local function UpdateFloatingPosition()
    -- 获取目标玩家的位置和朝向
    local targetPosition = targetRootPart.Position
    local targetLookAt = targetRootPart.CFrame.LookVector -- 目标玩家的朝向向量

    -- 计算漂浮位置和角度
    local floatingPosition = targetPosition + (targetRootPart.CFrame:VectorToWorldSpace(positionOffset))
    local floatingCFrame = CFrame.new(floatingPosition, floatingPosition + targetLookAt) * angleOffset -- 计算朝向

    -- 更新漂浮玩家的位置和朝向
    floatingRootPart.CFrame = floatingCFrame
end

-- 每帧更新位置
game:GetService("RunService").Heartbeat:Connect(UpdateFloatingPosition)
