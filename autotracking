local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

-- 获取本地玩家和摄像机
local localPlayer = Players.LocalPlayer
local character = localPlayer.Character or localPlayer.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local camera = Workspace.CurrentCamera

-- 设置要瞄准和跟踪的目标玩家名字
local targetPlayerName = "yaoshen21"  -- 替换为目标玩家的名字

local function trackAndAimAtPlayer()
    local targetPlayer = Players:FindFirstChild(targetPlayerName)

    if targetPlayer then
        local targetCharacter = targetPlayer.Character or targetPlayer.CharacterAdded:Wait()

        -- 持续更新，进行角色跟踪和摄像机瞄准
        RunService.RenderStepped:Connect(function()
            if targetCharacter and targetCharacter:FindFirstChild("HumanoidRootPart") then
                local targetPosition = targetCharacter.HumanoidRootPart.Position

                -- 玩家角色跟踪移动
                humanoid:MoveTo(targetPosition)

                -- 获取摄像机当前的位置
                local cameraPosition = camera.CFrame.Position

                -- 计算从摄像机到目标玩家的位置向量
                local direction = (targetPosition - cameraPosition).Unit

                -- 更新摄像机位置，让摄像机瞄准目标玩家
                camera.CFrame = CFrame.lookAt(cameraPosition, targetPosition)
            end
        end)
    else
        warn("未找到目标玩家: " .. targetPlayerName)
    end
end

-- 当玩家角色加载完毕后开始跟踪并瞄准目标玩家
if character then
    trackAndAimAtPlayer()
else
    localPlayer.CharacterAdded:Connect(trackAndAimAtPlayer)
end
