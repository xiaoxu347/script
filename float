-- 获取玩家
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- 获取身体部分
local humanoid = character:FindFirstChildOfClass("Humanoid")
local rootPart = character:FindFirstChild("HumanoidRootPart")

-- 设定漂浮参数
local floatHeight = 10 -- 漂浮高度
local isFloating = false -- 控制是否漂浮

-- 创建用于漂浮的BodyVelocity和BodyGyro
local bodyVelocity = Instance.new("BodyVelocity", rootPart)
local bodyGyro = Instance.new("BodyGyro", rootPart)

-- 设置BodyVelocity的属性，使玩家垂直漂浮
bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0) -- 仅在Y轴上施加力
bodyVelocity.Velocity = Vector3.new(0, 0, 0) -- 不设置水平速度，保持原地

-- 设置BodyGyro的属性，保持玩家的旋转
bodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge) -- 允许沿所有轴旋转
bodyGyro.D = 10
bodyGyro.CFrame = rootPart.CFrame * CFrame.Angles(math.rad(90), 0, 0) -- 将玩家旋转到面朝天

-- 漂浮逻辑
local function startFloating()
    if not isFloating then
        isFloating = true

        -- 设定玩家的漂浮高度
        bodyVelocity.Velocity = Vector3.new(0, 5, 0) -- 轻轻向上漂浮
        
        -- 禁用玩家动画防止游泳等动画影响
        if humanoid:FindFirstChild("Animator") then
            humanoid.Animator:Destroy()
        end

        -- 禁用玩家的物理行为防止干扰
        humanoid.PlatformStand = true
    end
end

local function stopFloating()
    if isFloating then
        isFloating = false

        -- 恢复原来的状态
        humanoid.PlatformStand = false
        bodyVelocity:Destroy()
        bodyGyro:Destroy()
    end
end

-- 让玩家漂浮并面朝天躺下
startFloating()

-- 设置10秒后停止漂浮
wait(10)
stopFloating()
